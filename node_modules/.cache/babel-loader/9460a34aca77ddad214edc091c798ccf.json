{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Jakov\\\\Transformer-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Jakov\\\\Transformer-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Jakov\\\\Transformer-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Jakov\\\\Transformer-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Jakov\\\\Transformer-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\Jakov\\\\Transformer-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\Jakov\\\\Transformer-app\\\\src\\\\components\\\\transformer.js\";\nimport React, { Component } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nvar Transformer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Transformer, _Component);\n\n  function Transformer(props) {\n    var _this;\n\n    _classCallCheck(this, Transformer);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Transformer).call(this, props));\n    _this.statuses = ['OK', 'INJURED', 'MIA'];\n    _this.state = {\n      status: ''\n    };\n    _this.deleteTransformer = _this.deleteTransformer.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.updateStatus = _this.updateStatus.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Transformer, [{\n    key: \"deleteTransformer\",\n    value: function deleteTransformer() {\n      this.props.deleteTransformer(this.props.id);\n    }\n  }, {\n    key: \"updateStatus\",\n    value: function updateStatus(id, event) {\n      var target = event.target;\n      var value = target.type === 'select' ? target.selected : target.value;\n      this.setState({\n        status: value\n      });\n      console.log(value);\n      fetch('http://localhost:3000/transformers/' + id, {\n        method: 'PUT',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          name: this.props.name,\n          status: value,\n          vehicleGroup: this.props.vehicleGroup,\n          vehicleType: this.props.vehicleType,\n          vehicleModel: this.props.vehicleModel,\n          gear: this.props.gear\n        })\n      }).then(function (res) {\n        return console.log(res.text());\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"transformer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, this.props.name), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, this.props.status), React.createElement(\"select\", {\n        name: \"status\",\n        id: \"status\",\n        onChange: function onChange(event) {\n          return _this2.updateStatus(_this2.props.id, event);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, this.statuses.map(function (status, index) {\n        if (_this2.props.status === status) {\n          return React.createElement(\"option\", {\n            selected: true,\n            key: index,\n            value: status,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 57\n            },\n            __self: this\n          }, status);\n        } else {\n          return React.createElement(\"option\", {\n            key: index,\n            value: status,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 59\n            },\n            __self: this\n          }, status);\n        }\n      }))), React.createElement(\"button\", {\n        onClick: this.deleteTransformer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(FontAwesomeIcon, {\n        icon: \"trash\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Transformer;\n}(Component);\n\nexport { Transformer as default };","map":{"version":3,"sources":["C:\\Users\\Jakov\\Transformer-app\\src\\components\\transformer.js"],"names":["React","Component","FontAwesomeIcon","Transformer","props","statuses","state","status","deleteTransformer","bind","updateStatus","id","event","target","value","type","selected","setState","console","log","fetch","method","headers","body","JSON","stringify","name","vehicleGroup","vehicleType","vehicleModel","gear","then","res","text","map","index"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n\r\nexport default class Transformer extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.statuses = ['OK', 'INJURED', 'MIA'];\r\n    this.state = {\r\n        status: ''\r\n    }\r\n\r\n    this.deleteTransformer = this.deleteTransformer.bind(this);\r\n    this.updateStatus = this.updateStatus.bind(this);\r\n  }\r\n\r\n  deleteTransformer () {\r\n    this.props.deleteTransformer(this.props.id);\r\n  }\r\n\r\n  updateStatus (id, event) {\r\n    const target = event.target;\r\n    const value = target.type === 'select' ? target.selected : target.value;\r\n    \r\n    this.setState({\r\n        status: value\r\n    });\r\n    console.log(value);\r\n    fetch('http://localhost:3000/transformers/'+id, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Accept': 'application/json',\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          name:this.props.name,\r\n          status: value,\r\n          vehicleGroup: this.props.vehicleGroup,\r\n          vehicleType: this.props.vehicleType,\r\n          vehicleModel: this.props.vehicleModel,\r\n          gear: this.props.gear,\r\n        })\r\n    }).then(res => console.log(res.text()))\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n          \r\n          <div className=\"transformer\">\r\n            <h3>{ this.props.name }</h3>\r\n            <span>{ this.props.status }</span>\r\n            <select name=\"status\" id=\"status\" onChange={event => this.updateStatus(this.props.id, event)}>\r\n              {this.statuses.map((status, index) => { \r\n                  if (this.props.status === status ) {\r\n                        return <option selected key={ index } value={ status }>{ status }</option>;\r\n                  } else {\r\n                    return <option key={ index } value={ status }>{ status }</option>;\r\n                  }\r\n                })}\r\n            </select>\r\n          </div>\r\n          <button onClick={this.deleteTransformer}><FontAwesomeIcon icon=\"trash\" /></button>\r\n        \r\n      </div>\r\n    );\r\n  }\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module"}