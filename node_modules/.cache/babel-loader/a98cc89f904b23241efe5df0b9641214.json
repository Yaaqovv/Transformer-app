{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\Jakov\\\\Transformer-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\Jakov\\\\Transformer-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Jakov\\\\Transformer-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Jakov\\\\Transformer-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Jakov\\\\Transformer-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Jakov\\\\Transformer-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\Jakov\\\\Transformer-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\Jakov\\\\Transformer-app\\\\src\\\\components\\\\add.js\";\nimport React, { Component } from 'react';\nimport ReactModal from 'react-modal';\nimport types from '../modules/types';\nReactModal.setAppElement('#root');\n\nvar Add =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Add, _Component);\n\n  function Add(props) {\n    var _this;\n\n    _classCallCheck(this, Add);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Add).call(this, props));\n\n    _this.handleNameChange = function (event) {\n      _this.setState({\n        name: event.target.value\n      }, function () {\n        return _this.validateName();\n      });\n    };\n\n    _this.validateName = function () {\n      _this.setState({\n        nameError: _this.state.name.length >= 2 ? null : 'Name must be longer than 2 characters.'\n      });\n    };\n\n    _this.modalToggle = function () {\n      _this.setState({\n        showModal: !_this.state.showModal\n      });\n    };\n\n    _this.models = {};\n    _this.statuses = ['OK', 'INJURED', 'MIA'];\n    _this.state = {\n      name: '',\n      nameError: '',\n      vehicleGroup: '',\n      currentVehicleGroup: [],\n      vehicleType: '',\n      currentModelGroup: [],\n      vehicleModel: '',\n      gear: '',\n      status: '',\n      showModal: false,\n      modalText: ''\n    };\n    _this.handleInputChange = _this.handleInputChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.submitForm = _this.submitForm.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Add, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      fetch(\"http://localhost:3001/vehicleTypes\").then(function (response) {\n        return response.json();\n      }).then(function (json) {\n        json.map(function (object, group, model, type) {\n          if (!_this2.models.hasOwnProperty(object.type)) {\n            _this2.models[object.type] = [object.model];\n          } else if (_this2.models.hasOwnProperty(object.type) && !_this2.models[object.type].includes(object.model)) {\n            _this2.models[object.type].push(object.model);\n          }\n\n          return null;\n        });\n      });\n      console.log(this.models);\n    }\n  }, {\n    key: \"handleInputChange\",\n    value: function handleInputChange(event) {\n      var target = event.target;\n      var value = target.type === 'select' ? target.selected : target.value;\n      var name = target.name;\n      this.setState(_defineProperty({}, name, value));\n\n      if (name === 'name') {\n        this.validateName();\n      } else if (name === 'vehicleGroup') {\n        this.setState({\n          currentVehicleGroup: types[value]\n        });\n      } else if (name === 'vehicleType') {\n        this.setState({\n          currentModelGroup: this.models[value]\n        });\n      }\n    }\n  }, {\n    key: \"submitForm\",\n    value: function submitForm(event) {\n      event.preventDefault();\n\n      if (this.state.name && this.state.vehicleGroup && this.state.vehicleType && this.state.vehicleModel && this.state.gear && this.state.status) {\n        fetch('http://localhost:3001/transformers', {\n          method: 'POST',\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            name: this.state.name,\n            vehicleGroup: this.state.vehicleGroup,\n            vehicleType: this.state.vehicleType,\n            vehicleModel: this.state.vehicleModel,\n            gear: this.state.gear.split(\", \"),\n            status: this.state.status\n          })\n        }).then(function (response) {\n          return console.log(response.json());\n        }).then(this.setState({\n          name: '',\n          gearItem: '',\n          modalText: 'Transformer has been added.',\n          showModal: !this.state.showModal\n        }));\n      } else {\n        this.setState({\n          modalText: 'Transformer has not been added. Make sure all fields are filled in.',\n          showModal: !this.state.showModal\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var contentStyle = {\n        position: 'absolute',\n        left: '7vw',\n        right: '7vw',\n        width: '30vw',\n        margin: '0 auto',\n        border: 'none',\n        background: 'moccasin',\n        overflow: 'auto',\n        borderRadius: '4px',\n        bottom: 'unset',\n        outline: 'none',\n        padding: '35px'\n      };\n      var vGroup = ['Air', 'Sea', 'Land'];\n      return React.createElement(\"div\", {\n        className: \"add-transformer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: this.submitForm,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        id: \"name\",\n        placeholder: \"Name\",\n        className: \"form-control\",\n        value: this.state.name,\n        name: \"name\",\n        onChange: this.handleNameChange,\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, this.state.nameError), React.createElement(\"select\", {\n        name: \"vehicleGroup\",\n        className: \"form-control\",\n        onChange: this.handleInputChange,\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        selected: true,\n        disabled: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, \"Please select group\"), vGroup.map(function (group, index) {\n        return React.createElement(\"option\", {\n          key: index,\n          value: group,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145\n          },\n          __self: this\n        }, group);\n      })), React.createElement(\"select\", {\n        name: \"vehicleType\",\n        className: \"form-control\",\n        onChange: this.handleInputChange,\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        selected: true,\n        disabled: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, \"Please select type\"), this.state.currentVehicleGroup.map(function (type, index) {\n        return React.createElement(\"option\", {\n          key: index,\n          value: type,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151\n          },\n          __self: this\n        }, type);\n      })), React.createElement(\"select\", {\n        name: \"vehicleModel\",\n        className: \"form-control\",\n        onChange: this.handleInputChange,\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        selected: true,\n        disabled: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, \"Please select model\"), this.state.currentModelGroup.map(function (model, index) {\n        return React.createElement(\"option\", {\n          key: index,\n          value: model,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157\n          },\n          __self: this\n        }, model);\n      })), React.createElement(\"input\", {\n        type: \"text\",\n        id: \"gear\",\n        placeholder: \"Gear\",\n        className: \"form-control\",\n        value: this.state.gear,\n        name: \"gear\",\n        onChange: this.handleInputChange,\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }), React.createElement(\"select\", {\n        name: \"status\",\n        id: \"status\",\n        className: \"form-control\",\n        onChange: this.handleInputChange,\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        selected: true,\n        disabled: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, \"Please select status\"), this.statuses.map(function (status, index) {\n        return React.createElement(\"option\", {\n          key: index,\n          value: status,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 164\n          },\n          __self: this\n        }, status);\n      })), React.createElement(\"input\", {\n        type: \"submit\",\n        id: \"submit\",\n        className: \"btn btn-outline-primary\",\n        value: \"Submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      })), React.createElement(ReactModal, {\n        isOpen: this.state.showModal,\n        style: {\n          content: contentStyle\n        },\n        closeTimeoutMS: 200,\n        contentLabel: \"sadssaddsads\",\n        parentSelector: function parentSelector() {\n          return document.querySelector('.add-transformer');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, this.state.modalText), React.createElement(\"button\", {\n        className: \"btn btn-outline-primary\",\n        onClick: this.modalToggle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, \"Ok\")));\n    }\n  }]);\n\n  return Add;\n}(Component);\n\nexport { Add as default };","map":{"version":3,"sources":["C:\\Users\\Jakov\\Transformer-app\\src\\components\\add.js"],"names":["React","Component","ReactModal","types","setAppElement","Add","props","handleNameChange","event","setState","name","target","value","validateName","nameError","state","length","modalToggle","showModal","models","statuses","vehicleGroup","currentVehicleGroup","vehicleType","currentModelGroup","vehicleModel","gear","status","modalText","handleInputChange","bind","submitForm","fetch","then","response","json","map","object","group","model","type","hasOwnProperty","includes","push","console","log","selected","preventDefault","method","headers","body","JSON","stringify","split","gearItem","contentStyle","position","left","right","width","margin","border","background","overflow","borderRadius","bottom","outline","padding","vGroup","index","content","document","querySelector"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\n\r\nimport ReactModal from 'react-modal'\r\nimport types from '../modules/types'\r\n\r\nReactModal.setAppElement('#root');\r\n\r\nexport default class Add extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.models = {}\r\n    \r\n    this.statuses = ['OK', 'INJURED', 'MIA'];\r\n    this.state = {\r\n      name: '',\r\n      nameError: '',\r\n      vehicleGroup: '',\r\n      currentVehicleGroup: [],\r\n      vehicleType: '',\r\n      currentModelGroup: [],\r\n      vehicleModel: '',\r\n      gear: '',\r\n      status: '',\r\n      showModal: false,\r\n      modalText: ''\r\n    }\r\n    this.handleInputChange = this.handleInputChange.bind(this);\r\n    this.submitForm = this.submitForm.bind(this);\r\n  }\r\n\r\n  componentDidMount () {\r\n    fetch(\"http://localhost:3001/vehicleTypes\")\r\n    .then(response => response.json())\r\n    .then(json => {\r\n      json.map((object, group, model, type) => {\r\n        if(!(this.models.hasOwnProperty(object.type))){\r\n          this.models[object.type] = [object.model]\r\n        } else if(this.models.hasOwnProperty(object.type) && !this.models[object.type].includes(object.model)) {\r\n          this.models[object.type].push(object.model);\r\n        }\r\n        return null;\r\n     });\r\n     \r\n    });\r\n    console.log(this.models);\r\n  }\r\n\r\n  handleNameChange = event => {\r\n    this.setState({\r\n      name: event.target.value\r\n    }, () => this.validateName());\r\n  }\r\n\r\n  handleInputChange (event) {\r\n      const target = event.target;\r\n      const value = target.type === 'select' ? target.selected : target.value;\r\n      const name = target.name;\r\n\r\n      this.setState({\r\n        [name]: value\r\n      });\r\n\r\n      if (name === 'name') {\r\n        this.validateName();\r\n      } else if (name === 'vehicleGroup') {\r\n        this.setState({\r\n          currentVehicleGroup: types[value]\r\n        });\r\n      } else if (name === 'vehicleType') {\r\n        this.setState({\r\n          currentModelGroup: this.models[value]\r\n        });\r\n      }\r\n      \r\n  }\r\n  submitForm (event) {\r\n    event.preventDefault();\r\n    if ( this.state.name && this.state.vehicleGroup && this.state.vehicleType && this.state.vehicleModel && this.state.gear && this.state.status) {\r\n      fetch('http://localhost:3001/transformers', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Accept': 'application/json',\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          name: this.state.name,\r\n          vehicleGroup: this.state.vehicleGroup,\r\n          vehicleType: this.state.vehicleType,\r\n          vehicleModel: this.state.vehicleModel,\r\n          gear: this.state.gear.split(\", \"),\r\n          status: this.state.status\r\n        })\r\n      })\r\n      .then(response => console.log(response.json()))\r\n      .then(this.setState({ name: '',\r\n                            gearItem: '',\r\n                            modalText: 'Transformer has been added.',\r\n                            showModal: !this.state.showModal\r\n                          }))\r\n    } else {\r\n      this.setState({ modalText: 'Transformer has not been added. Make sure all fields are filled in.',\r\n                      showModal: !this.state.showModal\r\n                    })\r\n\r\n    }\r\n    \r\n  }\r\n\r\n  validateName = () => {\r\n    this.setState({\r\n      nameError: this.state.name.length >= 2 ? null : 'Name must be longer than 2 characters.'\r\n    });\r\n  }\r\n\r\n  modalToggle = () => {\r\n    this.setState({ showModal: !this.state.showModal })\r\n  }\r\n\r\n  render() {\r\n    const contentStyle = {\r\n      position: 'absolute',\r\n      left: '7vw',\r\n      right: '7vw',\r\n      width: '30vw',\r\n      margin: '0 auto',\r\n      border: 'none',\r\n      background: 'moccasin',\r\n      overflow: 'auto',\r\n      borderRadius: '4px',\r\n      bottom: 'unset',\r\n      outline: 'none',\r\n      padding: '35px',\r\n    }\r\n    const vGroup = ['Air', 'Sea', 'Land'];\r\n    return (\r\n      <div className=\"add-transformer\">\r\n        <form onSubmit={this.submitForm}>\r\n            <input type=\"text\" id=\"name\" placeholder=\"Name\" className=\"form-control\" value={this.state.name} name=\"name\" onChange={this.handleNameChange} required/>\r\n            <div>{this.state.nameError}</div>\r\n            <select name=\"vehicleGroup\" className=\"form-control\" onChange={this.handleInputChange} required>\r\n                <option selected disabled>Please select group</option>\r\n                \r\n                {vGroup.map((group, index) => (\r\n                    <option key={index} value={group}>{group}</option>\r\n                ))}\r\n            </select> \r\n            <select name=\"vehicleType\" className=\"form-control\" onChange={this.handleInputChange} required>\r\n                <option selected disabled>Please select type</option>\r\n                {this.state.currentVehicleGroup.map((type, index) => (\r\n                    <option key={index} value={type}>{type}</option>\r\n                ))}\r\n            </select>\r\n            <select name=\"vehicleModel\" className=\"form-control\" onChange={this.handleInputChange} required>\r\n                <option selected disabled>Please select model</option>\r\n                {this.state.currentModelGroup.map((model, index) => (\r\n                    <option key={index} value={model}>{model}</option>\r\n                ))}\r\n            </select>\r\n              <input type=\"text\" id=\"gear\" placeholder=\"Gear\" className=\"form-control\" value={this.state.gear} name=\"gear\" onChange={this.handleInputChange} required/>\r\n            <select name=\"status\" id=\"status\" className=\"form-control\" onChange={this.handleInputChange} required>\r\n              <option selected disabled>Please select status</option>\r\n              {this.statuses.map((status, index) => (\r\n                  <option key={index} value={status}>{status}</option>\r\n              ))}\r\n            </select>\r\n            <input type=\"submit\" id=\"submit\" className=\"btn btn-outline-primary\" value=\"Submit\"/>\r\n        </form>\r\n        <ReactModal\r\n          isOpen={this.state.showModal}\r\n          style={{content: contentStyle}}\r\n          closeTimeoutMS={200}\r\n          contentLabel=\"sadssaddsads\"\r\n          parentSelector={() => document.querySelector('.add-transformer')}\r\n        >\r\n          <div>{this.state.modalText}</div>\r\n          <button className=\"btn btn-outline-primary\" onClick={this.modalToggle}>\r\n            Ok\r\n          </button>\r\n        </ReactModal>\r\n      </div>\r\n    );\r\n     \r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}